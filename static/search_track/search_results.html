<!DOCTYPE html>
<html lang="en" ng-app="searchListApp">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>BioDesigner|Dophin</title>

    <link href="../public/custombox/dist/custombox.min.css" rel="stylesheet">
    <link href="../public/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="./bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../public/angular-material/angular-material.min.css" rel="stylesheet">
    <link href="./css/gene_beta1.css" rel="stylesheet">
    <link href="./css/sb-admin-2.css" rel="stylesheet">
    <link rel="stylesheet" href="css/info.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../public/css/nav.css">
    
    <!-- Favicon and touch icons -->
    <link rel="shortcut icon" href="img/logo_black_small.png">

    <style>
        body,
        ul,
        li {
            margin: 0;
            padding: 0;
        }

        body {
            background: #fff;
        }

        .gover_search {
            position: absolute;
            right: 50%;
            margin-right: -181px;
            z-index: 99;
            height: 30px;
            border: 1px solid #b8cfe6;
            border-bottom: 0;
        }

        .gover_search .search_suggest {
            left: 50%;
            margin-left: -145px;
            text-align: center;
            z-index: 99;
            position: absolute;
            z-index: 999;
            top: 44px;
            width: 290px;
            border: 1px solid #999999;
            display: none;
        }

        .gover_search .search_suggest li {
            z-index: 99;
            height: 24px;
            font-size: 16px;
            font-family: "Segoe UI Light";
            overflow: hidden;
            line-height: 24px;
            background: #FFFFFF;
            cursor: default;
        }

        .gover_search .search_suggest li.hover {
            z-index: 99;
            background: #DDDDDD;
        }

        .info-wrap {
            z-index: 99;
            position: absolute;
            z-index: 999;
        }

        .totop {
            position: fixed;
            right: 10px;
            bottom: 60px;
            display: block;
            width: 60px;
            height: 60px;
            background-color: #5cb85;
            background: url(img/top0.png) no-repeat 0 0;
            -webkit-transition: all 0.2s ease-in-out;
            border: 1px solid #d0d0d0;
            border-radius: 10px;
        }

        .totop:hover {
            background: url(img/topt.png) no-repeat 0 -10px;
            background-color: #5cb85;
        }
    </style>
</head>

<body ng-controller="searchListController">

    <div id="wrapper">
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">BioDesigner Dophin</a>
            </div>

            <ul class="nav navbar-top-links navbar-right">
                <li>
                    <button class="btn btn-success" ng-click="jumpToSearch()">Search</button>
                </li>
                <li>
                    <button class="btn btn-danger" ng-click="jumpToProject()">Project</button>
                </li>
                <li>
                    <button class="btn btn-danger" ng-click="jumpToGene()">Gene Relationship</button>
                </li>
                <li>
                    <button class="btn btn-danger" ng-click="jumpToSystem()">System</button>
                </li>
                <li class="log-in" ng-if="isLogin" ng-click="loginDialog()">
                    <a href="#" class="sign-up">Log in</a> 
                </li>
                <li ng-if="isLogin">
                    <a class="sign-up" href="../register/register.html">Sign up</a>
                </li>
                <li ng-if="!isLogin" class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i></a>
                    <ul class="dropdown-menu dropdown-user">
                        <li ng-if="!isLogin">
                            <a href="#" ng-click="changePasswordDialog()">
                                <i class="fa fa-gear fa-fw"></i>ChangePassword
                            </a>
                        </li>
                        <li ng-if="!isLogin" class="divider"></li>
                        <li ng-if="!isLogin">
                            <a href="#" ng-click="logoutDialog()">
                                <i class="fa fa-sign-out fa-fw"></i>Logout
                            </a>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="gover_search">
                <form class="navbar-form search-centers" name="form" id="ui_element">
                    <img src="img/ser_l.png" width="34" height="34" id="logo" class="logo">
                    <!-- <input type="text" class="form-control" placeholder="Search..." ng-model="key_word" ng-keypress="search_by_keyboard($event,key_word)"> -->
                    <input type="text" id="gover_search_key" style="height:34px;width:290px" placeholder="Please input keywords ..." class="form-control sb_input"
                        ng-model="key_word" ng-keypress="gene_info_by_board($event,key_word,track)">

                    <button id="btn" class="btn btn-default" type="button" ng-click="getSearchResult(key_word,track)">
                    <i class="fa fa-search"></i>
                </button>
                    <div class="suggest-wrap">
                        <div class="search_suggest" id="gov_search_suggest">
                            <ul> </ul>
                        </div>
                    </div>
                </form>
            </div>
        </nav>

        <center>
            <div class="select-list con3">
                <!-- <font color="#666">classification : </font> -->
                <!-- &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -->
                <span><em class="con" ng-model="track1">track1</em></span>
                <span><em class="con" ng-model="track2">track2</em></span>
                <span><em class="con" ng-model="track3">track3</em></span>
                <span><em class="con" ng-model="track4">track4</em></span>
                <span><em class="con" ng-model="track5">track5</em></span>
                <span><em class="con" ng-model="track6">track6</em></span>
                <span><em class="con" ng-model="track7">track7</em></span>
                <span><em class="con" ng-model="track8">track8</em></span>
                <span><em class="con" ng-model="track9">track9</em></span>
                <span><em class="con" ng-model="track10">track10</em></span>
            </div>
        </center>
    </div>
    <div class="line_left"></div>
    <center>
        <br>
        <div class="list">
            <div ng-repeat="team in teams" ng-click="getDetail(team.id)">
                <a>
                    <div class="list-div">
                        <div class="result-title color" style="font-weight:bold"><span><div class="point1"></div></span>{{team.title}}
                            <div class="which">
                                high-school
                            </div>
                        </div>
                        <div class="content color">
                            <!-- <div class="keywords key"><span><em class="key">keywords:{{team.keywords}}</em></span> -->
                            <div class="keywords_beta color-key"><span><em class="key"><font size=3px color="white" style="background-color:#6b9de2;border-radius:3px;padding:2px;margin:3px;font-weight:bold">keywords: </font><font size=2px; style="font-weight:bold" color="#333">{{team.keywords}}</font></em></span>
                            </div>
                            <div class="results color-key">
                                <b><font size=3px; color="#ffffff"  style="background-color:#f9a731;border-radius:3px;">&nbsp;&nbsp;awards: </font>&nbsp;<img src="img/results.png" height="23px"><font size=3px;><font>&nbsp;21c dscw&nbsp;</font></b>
                            </div>
                            <hr style="height:1px;border:none;border-top:0px double white;">
                            <div data-ng-bind-html="team.abstract"></div>
                        </div>
                    </div>
                </a>
                <hr>
            </div>
            <center>
                <div class="suggestion-bottom" style="float:left;">
                    <div class="s-header">
                        Suggestions
                    </div>
                    <hr style="height:3px;border:none;border-top:0px double white;">
                    <!-- <div ng-repeat="word in words">
			<div class='s-content'>
			<a href="" class=" color">{{word.key}}</a>
			</div>
		</div> -->
                    <div ng-repeat="word in words">
                        <div class='s-content'>
                            <a href="" class=" color">{{word}}</a>
                        </div>
                    </div>

                </div>
                <br><br><br><br><br><br>
                <div class="zxf_pagediv" style="margin-top:26px;float:left;"></div>
                <div clas="foot-div" style="margin-top:20px;height:6px;"><br><br><br><br><br><br><br><br><br></div>
        </div>
        </center><br><br><br>
        </div>
    </center>
    <div class="left">
        <div class="list-l">
            <ul class="yiji">
                <div style="color:#fff;text-align:center;font-size:20px;bottom:2px;background:#aaa;border-radius:3px;">Classifications</div>
                <li><a href="#">fistDiv</a></li>
                <li><a href="#" class="inactive">one</a>
                    <ul style="display: none">
                        <li><a href="#" class="inactive active">1</a>
                            <ul>
                                <li><a href="#">one-1</a></li>
                                <li><a href="#">one-1</a></li>
                                <li><a href="#">one-1</a></li>
                            </ul>
                        </li>
                        <li class="last"><a href="#">2</a></li>
                    </ul>
                </li>
                <li><a href="#" class="inactive">two</a>
                    <ul style="display: none">
                        <li><a href="#" class="inactive active">2</a>
                            <ul>
                                <li><a href="#">two2</a></li>
                                <li><a href="#">two2</a></li>
                                <li><a href="#">two2</a></li>
                            </ul>
                        </li>
                        <li><a href="#" class="inactive active">2</a>
                            <ul>
                                <li><a href="#">two2</a></li>
                                <li><a href="#">two2</a></li>
                            </ul>
                        </li>
                        <li class="last"><a href="#">2</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div class='end-foot'><a href="#" onclick="gotoTop();return false;" class="totop"></a></div>
    <!-- log in modal -->
    <div id="login" class="modal-demo">
        <button type="button" class="close" onclick="Custombox.close();">
            <span>×</span>
            <span class="sr-only">Close</span>
        </button>
        <h4 class="title">Login</h4>
        <div class="text">
            <form class="form-horizontal" role="form" ng-keypress="login_by_keyboard($event,username,password)">
                <div class="form-group col-md-12">
                    <label for="username">Username</label>
                    <input id="username" type="text" class="form-control login-input" placeholder="User Name" ng-model="username" />
                </div>
                <div class="form-group col-md-12">
                    <label for="password">Password</label>
                    <input id="password" type="password" class="form-control login-input" placeholder="Password" ng-model="password" />
                </div>
            </form>
            <a href="../register/register.html">
                Create account
            </a>
        </div>
        <div class="modal-footer">
            <span ng-if="error" class="error-msg">{{errorMsg}}</span>
            <button type="button" class="btn btn-default" onclick="Custombox.close();">Cancel</button>
            <button type="button" class="btn btn-primary" ng-click="log_in(username,password)">Confirm</button>
        </div>
    </div>
    <!--log out modal-->
    <div id="logout" class="modal-demo">
        <button type="button" class="close" onclick="Custombox.close();">
			<span>×</span>
			<span class="sr-only">Close</span>
		</button>
        <h4 class="title">Log Out</h4>
        <div class="text">
            <h3>Are You Sure?</h3>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="Custombox.close();">Cancel</button>
            <button type="button" class="btn btn-primary" ng-click="log_out()">Confirm</button>
        </div>
    </div>
    <!--change password modal-->
    <div id="cgPwd" class="modal-demo">
        <button type="button" class="close" onclick="Custombox.close();">
			<span>×</span>
			<span class="sr-only">Close</span>
		</button>
        <h4 class="title">Change Password</h4>
        <div class="text">
            <form class="form-horizontal" role="form">
                <div class="form-group">
                    <label for="old password" class="col-sm-2 control-label">Old Password</label>
                    <div class="col-sm-10">
                        <input type="password" class="form-control" placeholder="old password" ng-model="old_password" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="new password" class="col-sm-2 control-label">New Password</label>
                    <div class="col-sm-10">
                        <input type="password" class="col-sm-10 form-control" placeholder="new password" ng-model="new_password" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirm password" class="col-sm-2 control-label">Confirm Password</label>
                    <div class="col-sm-10">
                        <input type="password" class="col-sm-10 form-control" placeholder="confirm password" ng-model="re_password" />
                    </div>

                </div>
            </form>

        </div>

        <div class="modal-footer">
            <button type="button" class="btn btn-default" onclick="Custombox.close();">Cancel</button>
            <button type="button" class="btn btn-primary" ng-click="change_password(old_password,new_password,re_password)">Confirm</button>
        </div>
    </div>

    <script type="text/javascript" src="./js/jquery-3.2.1.slim.js"></script>
    <script src="../public/custombox/dist/legacy.min.js"></script>
    <script src="../public/custombox/dist/custombox.min.js"></script>
    <script src="../public/angular/angular.min.js"></script>
    <script src="../public/angular-animate/angular-animate.min.js"></script>
    <script src="../public/angular-aria/angular-aria.min.js"></script>
    <script src="../public/angular-material/angular-material.min.js"></script>
    <script src="../public/jquery/dist/jquery.min.js"></script>
    <script src="../public/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../public/d3/d3.min.js"></script>
    <script src="./js/draw.js"></script>
    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/effect.js"></script>
    <script type="text/javascript">
        //实现搜索输入框的输入提示js类  
        function oSearchSuggest(searchFuc) {
            var input = $('#gover_search_key');
            var suggestWrap = $('#gov_search_suggest');
            var key = "";
            var init = function () {
                input.bind('keyup', sendKeyWord);
                input.bind('blur', function () {
                    setTimeout(hideSuggest, 100);
                })
            }
            var hideSuggest = function () {
                suggestWrap.hide();
            }

            //发送请求，根据关键字到后台查询  
            var sendKeyWord = function (event) {

                //键盘选择下拉项  
                if (suggestWrap.css('display') == 'block' && event.keyCode == 38 || event.keyCode == 40) {
                    var current = suggestWrap.find('li.hover');
                    if (event.keyCode == 38) {
                        if (current.length > 0) {
                            var prevLi = current.removeClass('hover').prev();
                            if (prevLi.length > 0) {
                                prevLi.addClass('hover');
                                input.val(prevLi.html());
                            }
                        } else {
                            var last = suggestWrap.find('li:last');
                            last.addClass('hover');
                            input.val(last.html());
                        }

                    } else if (event.keyCode == 40) {
                        if (current.length > 0) {
                            var nextLi = current.removeClass('hover').next();
                            if (nextLi.length > 0) {
                                nextLi.addClass('hover');
                                input.val(nextLi.html());
                            }
                        } else {
                            var first = suggestWrap.find('li:first');
                            first.addClass('hover');
                            input.val(first.html());
                        }
                    }

                    //输入字符  
                } else {
                    var valText = $.trim(input.val());
                    if (valText == '' || valText == key) {
                        return;
                    }
                    searchFuc(valText);
                    key = valText;
                }

            }
            //请求返回后，执行数据展示  
            this.dataDisplay = function (data) {
                if (data.length <= 0) {
                    suggestWrap.hide();
                    return;
                }

                //往搜索框下拉建议显示栏中添加条目并显示  
                var li;
                var tmpFrag = document.createDocumentFragment();
                suggestWrap.find('ul').html('');
                for (var i = 0; i < data.length; i++) {
                    li = document.createElement('LI');
                    li.innerHTML = data[i];
                    tmpFrag.appendChild(li);
                }
                suggestWrap.find('ul').append(tmpFrag);
                suggestWrap.show();

                //为下拉选项绑定鼠标事件  
                suggestWrap.find('li').hover(function () {
                    suggestWrap.find('li').removeClass('hover');
                    $(this).addClass('hover');

                }, function () {
                    $(this).removeClass('hover');
                }).bind('click', function () {
                    input.val(this.innerHTML);
                    suggestWrap.hide();
                });
            }
            init();
        };

        //实例化输入提示的JS,参数为进行查询操作时要调用的函数名  
        var searchSuggest = new oSearchSuggest(sendKeyWordToBack);

        //这是一个模似函数，实现向后台发送ajax查询请求，并返回一个查询结果数据，传递给前台的JS,再由前台JS来展示数据。本函数由程序员进行修改实现查询的请求  
        //参数为一个字符串，是搜索输入框中当前的内容  
        function sendKeyWordToBack(keyword) {
            /*  var obj = {  
                     "keyword" : keyword  
                  };  
                  $.ajax({  
                            type: "POST",  
                            url: "${ctx}/front/suqiu2/search/prompt-keyword.action",  
                            async:false,  
                            data: obj,  
                            dataType: "json",  
                            success: function(data){  
                              //var json = eval("("+data+")");  
                              var key=data.split(",");  
                              var aData = [];  
                              for(var i=0;i<key.length;i++){  
                                     //以下为根据输入返回搜索结果的模拟效果代码,实际数据由后台返回  
                                 if(key[i]!=""){  
                                       aData.push(key[i]);  
                                 }  
                              }  
                             //将返回的数据传递给实现搜索输入框的输入提示js类  
                              searchSuggest.dataDisplay(aData);  
                            }  
              });      */

            //以下为根据输入返回搜索结果的模拟效果代码,实际数据由后台返回  
            var aData = [];
            if (keyword == "aaa") {
                aData.push(keyword + '返回数据-返回数据-返回数据1');
                aData.push(keyword + '返回数据-返回数据-返回数据2');
                aData.push(keyword + '返回数据-返回数据-返回数据1');
                aData.push(keyword + '返回数据-返回数据-返回数据2');
                aData.push(keyword + '返回数据-返回数据-返回数据1');
                aData.push(keyword + '返回数据-返回数据-返回数据2');
                aData.push(keyword + '返回数据-返回数据-返回数据1');
                aData.push(keyword + '返回数据-返回数据-返回数据2');
            }
            /*  aData.push(keyword+'返回数据1');  
             aData.push(keyword+'返回数据2');  
             aData.push(keyword+'不是有的人天生吃素的');  
             aData.push(keyword+'不是有的人天生吃素的');  
             aData.push(keyword+'2012是真的');  
             aData.push(keyword+'2012是假的');   */
            //将返回的数据传递给实现搜索输入框的输入提示js类  
            searchSuggest.dataDisplay(aData);

        }
    </script>
    <script>
        /**
	* JavaScript脚本实现回到页面顶部示例
	* @param acceleration 速度
	* @param stime 时间间隔 (毫秒)
	**/
        function gotoTop(acceleration, stime) {
            acceleration = acceleration || 0.1;
            stime = stime || 10;
            var x1 = 0;
            var y1 = 0;
            var x2 = 0;
            var y2 = 0;
            var x3 = 0;
            var y3 = 0;
            if (document.documentElement) {
                x1 = document.documentElement.scrollLeft || 0;
                y1 = document.documentElement.scrollTop || 0;
            }
            if (document.body) {
                x2 = document.body.scrollLeft || 0;
                y2 = document.body.scrollTop || 0;
            }
            var x3 = window.scrollX || 0;
            var y3 = window.scrollY || 0;

            // 滚动条到页面顶部的水平距离
            var x = Math.max(x1, Math.max(x2, x3));
            // 滚动条到页面顶部的垂直距离
            var y = Math.max(y1, Math.max(y2, y3));

            // 滚动距离 = 目前距离 / 速度, 因为距离原来越小, 速度是大于 1 的数, 所以滚动距离会越来越小
            var speeding = 1 + acceleration;
            window.scrollTo(Math.floor(x / speeding), Math.floor(y / speeding));

            // 如果距离不为零, 继续调用函数
            if (x > 0 || y > 0) {
                var run = "gotoTop(" + acceleration + ", " + stime + ")";
                window.setTimeout(run, stime);
            }
        }

    </script>
    <script src="js/jquery.min.js"></script>
    <script src="js/page.js"></script>
    <script type="text/javascript">
        $(".zxf_pagediv").createPage({
            pageNum: 2,
            current: 1,
            backfun: function (e) {
                //console.log(e);//回调
            }
        });
    </script>
    <script type="text/javascript" src="js/jquery-1.4.2.min.js"></script>
    <script src="./js/searchList.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.inactive').click(function () {
                if ($(this).siblings('ul').css('display') == 'none') {
                    $(this).parent('li').siblings('li').removeClass('inactives');
                    $(this).addClass('inactives');
                    $(this).siblings('ul').slideDown(100).children('li');
                    if ($(this).parents('li').siblings('li').children('ul').css('display') == 'block') {
                        $(this).parents('li').siblings('li').children('ul').parent('li').children('a').removeClass('inactives');
                        $(this).parents('li').siblings('li').children('ul').slideUp(100);

                    }
                } else {
                    //控制自身变成+号
                    $(this).removeClass('inactives');
                    //控制自身菜单下子菜单隐藏
                    $(this).siblings('ul').slideUp(100);
                    //控制自身子菜单变成+号
                    $(this).siblings('ul').children('li').children('ul').parent('li').children('a').addClass('inactives');
                    //控制自身菜单下子菜单隐藏
                    $(this).siblings('ul').children('li').children('ul').slideUp(100);

                    //控制同级菜单只保持一个是展开的（-号显示）
                    $(this).siblings('ul').children('li').children('a').removeClass('inactives');
                }
            })
        });
    </script>
</body>

</html>